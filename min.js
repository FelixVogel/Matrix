var Utility;(function(t){var e=function(){function t(t,e,i,r){if(r===void 0){r=255}this.r=Math.max(0,Math.min(255,t));this.g=Math.max(0,Math.min(255,e));this.b=Math.max(0,Math.min(255,i));this.a=Math.max(0,Math.min(255,r))}t.prototype.fromRGBA=function(t,e,i,r){this.r=Math.max(0,Math.min(255,t));this.g=Math.max(0,Math.min(255,e));this.b=Math.max(0,Math.min(255,i));this.a=Math.max(0,Math.min(255,r));return this};t.prototype.toRGBA=function(t){if(t===void 0){t=this.a}return"rgba("+this.r+", "+this.g+", "+this.b+", "+t+")"};t.prototype.fromRGB=function(t,e,i){return this.fromRGBA(t,e,i,255)};t.prototype.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"};t.prototype.fromHex=function(t){if(!t.match(/^#(:?[0-9a-fA-F]{2}){1,3}$/g))return this;t=t.substr(1);for(var e=0;e<t.length;e+=2){var i=parseInt(t.substr(e,2),16);switch(e){case 0:{this.r=i;break}case 2:{this.g=i;break}case 4:{this.b=i;break}default:break}}return this};t.prototype.toHex=function(){return"#"+((this.r<16?"0":"")+this.r.toString(16))+((this.g<16?"0":"")+this.g.toString(16))+((this.b<16?"0":"")+this.b.toString(16))};return t}();t.Color=e;var i=function(){function n(t,e){this.name=t;this.value=e;this.expires=new Date;this.expires.setTime(this.expires.getTime()+7*24*60*60*1e3)}n.getCookie=function(t){var e=document.cookie.indexOf(t+"=");if(e===-1)return null;var i=document.cookie.substr(e);if(i.indexOf("; ")!==-1)i=i.substring(0,i.indexOf("; "));var r=i.split("=");return new n(r[0],r[1])};n.prototype.setExpirationDate=function(t){this.expires=t;return this};n.prototype.getName=function(){return this.name};n.prototype.getValue=function(){return this.value};n.prototype.setValue=function(t){this.value=t;return this};n.prototype.add=function(){document.cookie=this.name+"="+this.value+"; expires="+this.expires.toUTCString()+"; path=/"};n.prototype.remove=function(){var t=new Date;t.setTime(t.getTime()-24*60*60*1e3);document.cookie=this.name+"=; expires="+t.toUTCString()+"; path=/"};return n}();t.Cookie=i})(Utility||(Utility={}));var Color=Utility.Color;var options={textColor:new Color(68,255,0),gradient:false};window.wallpaperPropertyListener={applyUserProperties:function(t){if(t.schemecolor){var e=t.schemecolor.value.split(" ").map(function(t){return Math.min(255,Math.ceil(parseFloat(t)*255))});options.textColor=new Color(e[0],e[1],e[2])}}};var graphics=function(){var n=250;var e=document.getElementById("matrix-canvas");var o=e.getContext("2d");var t=function(t){e.width=window.innerWidth;e.height=window.innerHeight};t(null);window.addEventListener("resize",t);o.scale(1.2,1.2);var a=function(t,e,i,r,n){if(n===void 0){n="#000000"}o.fillStyle=n;o.fillRect(t,e,i,r)};var s=function(t,e,i){var r=Math.max(.05,Math.min(.5,Math.random()));if(options.gradient&&i)o.fillStyle="hsla("+i.hsv+", 100%, 50%, "+r+")";else o.fillStyle=options.textColor.toRGBA(r);o.fillRect(t+5,e+4,2,2)};var h=[];var i=function(t){for(var e=0;e<t.length;e++){h.push({offsetX:Math.floor(6-o.measureText(t[e]).width/2),char:t[e]})}};i("ｦｱｳｴｵｶｷｹｺｻｼｽｾｿﾀﾂﾃﾅﾆﾇﾈﾊﾋﾎﾏﾐﾑﾒﾓﾔﾕﾗﾘﾜ日(+*;)-|2589Z");var f=function(){return{letters:0,max:Math.floor(Math.random()*8)+6,letterY:10,erasing:false,eraseY:0,delay:Math.floor(Math.random()*8e3)+2e3}};var r=function(t){var e={x:t,hsv:0,items:[f()]};setTimeout(function(){return setInterval(function(){c(e);if(options.gradient){e.hsv+=1;if(e.hsv>=360)e.hsv=0}},n)},Math.floor(Math.random()*2e3)+1e3)};for(var l=1;l<window.innerWidth;l+=12){if(l+12>window.innerWidth)break;for(var u=0;u<window.innerHeight;u+=12)s(l,u);r(l)}var c=function(i){var r=false;i.items.forEach(function(t){if(t.delay<=0){a(i.x,t.letterY,12,12);if(options.gradient)o.strokeStyle="hsl("+i.hsv+", 100%, 50%)";else o.strokeStyle=options.textColor.toRGB();var e=h[Math.floor(Math.random()*h.length)];o.strokeText(e.char,i.x+e.offsetX,t.letterY);t.letterY+=12;if(t.letters>=t.max&&!t.erasing){t.erasing=true;r=true}else{t.letters+=1}if(t.erasing){a(i.x,t.eraseY,12,12);s(i.x,t.eraseY,i);t.eraseY+=12}}else{t.delay-=n}});if(r)i.items.push(f());i.items=i.items.filter(function(t){return t.eraseY<window.innerHeight});a(i.x,0,12,window.innerHeight,"rgba(0, 0, 0, 0.1)")}};setTimeout(graphics,100);