var Utility;!function(e){var t=(a.fromRGBA=function(e,t,n,r){return void 0===r&&(r=255),new a(e,t,n,r)},a.fromHex=function(e){if(!e.match(/^#(:?[0-9a-fA-F]{2}){1,3}$/g))return null;var t,n,r;e=e.substr(1);for(var i=0;i<e.length;i+=2){var o=parseInt(e.substr(i,2),16);switch(i){case 0:t=o;break;case 2:n=o;break;case 4:r=o}}return new a(t,n,r)},a.prototype.toRGBA=function(e){return void 0===e&&(e=this.a),"rgba("+this.r+", "+this.g+", "+this.b+", "+e+")"},a.prototype.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},a.prototype.toHex=function(){return"#"+(this.r<16?"0":"")+this.r.toString(16)+(this.g<16?"0":"")+this.g.toString(16)+(this.b<16?"0":"")+this.b.toString(16)},a);function a(e,t,n,r){void 0===r&&(r=255),this.r=Math.max(0,Math.min(255,e)),this.g=Math.max(0,Math.min(255,t)),this.b=Math.max(0,Math.min(255,n)),this.a=Math.max(0,Math.min(255,r))}e.Color=t;var n=(i.get=function(e){var t=document.cookie.indexOf(e+"=");if(-1===t)return null;var n=document.cookie.substr(t);-1!==n.indexOf("; ")&&(n=n.substring(0,n.indexOf("; ")));var r=n.split("=");return new i(r[0],r[1])},i.getOrSet=function(e,t,n){var r=i.get(e);return r||(r=new i(e,t)).setExpirationDate(n).add(),r},i.replace=function(e,t,n){new i(e,t).setExpirationDate(n).add()},i.prototype.setExpirationDate=function(e){return e&&(this.expires=e),this},i.prototype.getName=function(){return this.name},i.prototype.getValue=function(){return this.value},i.prototype.setValue=function(e){return this.value=e,this},i.prototype.add=function(){document.cookie=this.name+"="+this.value+"; expires="+this.expires.toUTCString()+"; path=/"},i.prototype.remove=function(){var e=new Date;e.setTime(e.getTime()-864e5),document.cookie=this.name+"=; expires="+e.toUTCString()+"; path=/"},i);function i(e,t){this.name=e,this.value=t,this.expires=new Date,this.expires.setTime(this.expires.getTime()+6048e5)}e.Cookie=n,e.forEach=function(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n)},e.capsule=function(e){e()}}(Utility=Utility||{});var Color=Utility.Color,Cookie=Utility.Cookie,forEach=Utility.forEach,capsule=Utility.capsule;capsule(function(){function i(e,t,n,r,i){void 0===i&&(i="#000000"),h.fillStyle=i,h.fillRect(e,t,n,r)}function o(e,t,n){var r=Math.max(.05,Math.min(.5,Math.random()));0!==l.gradientType&&n?h.fillStyle="hsla("+n.hsv+", 100%, 50%, "+r+")":h.fillStyle=l.baseColor.toRGBA(r),h.fillRect(e+5,t+4,2,2)}function a(){return{letters:0,max:Math.floor(Math.random()*(l.lineLength/2))+l.lineLength/2,letterY:10,erasing:!1,eraseY:0,delay:Math.floor(8e3*Math.random())+2e3}}function u(){v=[];for(var e,t=1,n=d.width;t<n&&!(n<t+12);t+=12){for(var r=0,i=d.height;r<i;r+=12)o(t,r);e=void 0,e={x:t,interval:Math.floor(250*Math.random())+150,hsv:0,items:[a()]},v.push(e)}c.setGradientType(l.gradientType)}function s(e){l.rotation=e,d.width=window.innerWidth,d.height=window.innerHeight,d.style.transform="rotateZ("+e+"deg)";var t=d.getBoundingClientRect(),n=t.right-t.left,r=t.bottom-t.top;d.width=n,d.height=r,d.style.transform="translate("+(window.innerWidth-n)/2+"px, "+(window.innerHeight-r)/2+"px) rotateZ("+e+"deg)",u()}function e(e){d.width=window.innerWidth,d.height=window.innerHeight,s(l.rotation)}var c={},l={baseColor:new Color(68,255,0),speed:1,gradientType:0,gradientInterval:1,lineLength:14,resetOnFocus:!0,rotation:0},d=document.querySelector("#matrix-canvas"),h=d.getContext("2d"),r={isTyping:!1},f=[],v=[];capsule(function(){var t=document.querySelector("#base-color"),e=Cookie.getOrSet("base_color","#44ff00").getValue();t.value=""+e;function n(e){l.baseColor=Color.fromHex(e),Cookie.replace("base_color",e)}n(t.value),t.addEventListener("input",function(e){return n(t.value)})}),capsule(function(){function t(e){var t=e-e%25;r.value=""+t;var n=Math.max(1,Math.pow(2,t/25));l.speed=n,i.innerHTML="(x "+n+")",Cookie.replace("speed",""+t)}var r=document.querySelector("#speed"),i=document.querySelector('span[data-value-for="speed"]'),e=parseInt(Cookie.getOrSet("speed","0").getValue());t(e),r.addEventListener("input",function(e){return t(parseInt(r.value))})}),capsule(function(){function n(e){switch(e){case 0:l.gradientType=0,forEach(v,function(e){return e.hsv=0});break;case 1:l.gradientType=1,forEach(v,function(e){return e.hsv=0});break;case 2:l.gradientType=2,forEach(v,function(e){return e.hsv=e.x/d.width*360})}Cookie.replace("gradient_type",""+e)}c.setGradientType=n;var t=document.querySelector("#gradient-type");l.gradientType=parseInt(Cookie.getOrSet("gradient_type","0").getValue()),t.value=""+l.gradientType,t.addEventListener("input",function(e){return n(parseInt(t.value))});function r(e,t){t&&document[t]||!l.resetOnFocus||n(l.gradientType)}void 0!==document.hidden?document.addEventListener("visibilitychange",function(e){return r(0,"hidden")}):document.webkitHidden?document.addEventListener("webkitvisibilitychange",function(e){return r(0,"webkitHidden")}):document.msHidden?document.addEventListener("msvisibilitychange",function(e){return r(0,"msHidden")}):window.addEventListener("focus",function(e){return r(0,null)})}),capsule(function(){var r=document.querySelector("#gradient-interval"),i=document.querySelector('span[data-value-for="gradient-interval"]'),e=parseInt(Cookie.getOrSet("gradient_interval","0").getValue());r.value=""+e;function t(e){var t=e-e%25;r.value=""+t;var n=Math.max(1,Math.pow(2,t/25));l.gradientInterval=n,i.innerHTML="(x "+n+")",Cookie.replace("gradient_interval",""+t)}t(e),r.addEventListener("input",function(e){return t(parseInt(r.value))})}),capsule(function(){var n=document.querySelector("#line-length"),r=document.querySelector('span[data-value-for="line-length"]'),e=parseInt(Cookie.getOrSet("line_length","100").getValue());n.value=""+e;function t(e){var t=Math.floor(.3*e);n.value=""+Math.ceil(t/30*100),t+=2,l.lineLength=t,r.innerHTML="("+t+")",Cookie.replace("line_length",""+e)}t(e),n.addEventListener("input",function(e){return t(parseInt(n.value))})}),capsule(function(){function t(e){e&&0!==e.length&&(function(e){null!==e&&0!==e.length||(e="ｦｱｳｴｵｶｷｹｺｻｼｽｾｿﾀﾂﾃﾅﾆﾇﾈﾊﾋﾎﾏﾐﾑﾒﾓﾔﾕﾗﾘﾜ日(+*;)-|2589Z"),f=[];for(var t=0,n=e.length;t<n;t++)f.push({offsetX:Math.floor(6-h.measureText(e[t]).width/2),char:e[t]})}(e),Cookie.replace("symbols",""+e))}var n=document.querySelector("#symbols"),e=Cookie.getOrSet("symbols","ｦｱｳｴｵｶｷｹｺｻｼｽｾｿﾀﾂﾃﾅﾆﾇﾈﾊﾋﾎﾏﾐﾑﾒﾓﾔﾕﾗﾘﾜ日(+*;)-|2589Z").getValue();document.querySelector("#symbol-set").addEventListener("click",function(e){t(n.value)}),document.querySelector("#symbol-reset").addEventListener("click",function(e){n.value="ｦｱｳｴｵｶｷｹｺｻｼｽｾｿﾀﾂﾃﾅﾆﾇﾈﾊﾋﾎﾏﾐﾑﾒﾓﾔﾕﾗﾘﾜ日(+*;)-|2589Z",t(n.value)}),n.value=e,t(e),n.addEventListener("focus",function(e){return r.isTyping=!0}),n.addEventListener("blur",function(e){return r.isTyping=!1})}),capsule(function(){var t=document.querySelector("#hide-cursor"),e="true"===Cookie.getOrSet("hide_cursor","true").getValue();t.checked=e;function n(e){document.querySelector(".matrix-container").style.cursor=e?"none":"default",Cookie.replace("hide_cursor",""+e)}n(e),t.addEventListener("input",function(e){return n(t.checked)})}),capsule(function(){var t=document.querySelector("#reset-on-focus"),e="true"===Cookie.getOrSet("reset_on_focus","true").getValue();t.checked=e;function n(e){l.resetOnFocus=e,Cookie.replace("reset_on_focus",""+e)}n(e),t.addEventListener("input",function(e){return n(t.checked)})}),capsule(function(){var n=document.querySelector("#rotation"),e=parseInt(Cookie.getOrSet("rotation","0").getValue()),r=document.querySelector('span[data-value-for="rotation"]');n.value=""+e;function t(e){var t=Math.trunc(e/100*360);return n.value=""+t/360*100,r.innerHTML="("+t+" &deg;)",Cookie.replace("rotation",n.value),t}function i(e){s(t(e))}document.querySelector("#rotation-set").addEventListener("click",function(e){i(parseInt(n.value))}),document.querySelector("#rotation-reset").addEventListener("click",function(e){n.value="0",i(0)}),i(e),n.addEventListener("input",function(e){r.innerHTML="("+t(parseInt(n.value))+" &deg;)"})}),window.addEventListener("keyup",function(e){var t;e.key&&"o"===e.key.toLowerCase()&&!r.isTyping&&(""===(t=document.querySelector("#options")).style.display?t.style.display="none":t.style.display="")});!function(){h.scale(1.2,1.2),e(),window.addEventListener("resize",e);var n=0,r=function(e){var t=e-n;forEach(v,function(e){var n,r;0!==l.gradientType&&(e.hsv+=t/100*l.gradientInterval,360<=e.hsv&&(e.hsv=0)),e.interval-=t*l.speed,e.interval<=0&&(r=!1,forEach((n=e).items,function(e){var t;e.delay<=0?(i(n.x,e.letterY,12,12),0!==l.gradientType?h.strokeStyle="hsl("+n.hsv+", 100%, 50%)":h.strokeStyle=l.baseColor.toRGB(),t=f[Math.floor(Math.random()*f.length)],h.strokeText(t.char,n.x+t.offsetX,e.letterY),e.letterY+=12,e.letters>=e.max&&!e.erasing?(e.erasing=!0,r=!0):e.letters+=1,e.erasing&&(i(n.x,e.eraseY,12,12),o(n.x,e.eraseY,n),e.eraseY+=12)):e.delay-=250}),r&&n.items.push(a()),n.items=n.items.filter(function(e){return e.eraseY<d.height}),i(n.x,0,12,d.height,"rgba(0, 0, 0, 0.1)"),e.interval=Math.floor(250*Math.random())+150)}),n=e,window.requestAnimationFrame(r)},n=performance.now();window.requestAnimationFrame(r)}()});